<!-- WeedTracker V55 Pilot â€“ index.html -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>WeedTracker V55 Pilot</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="icon" type="image/png" href="icon.png">
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css">
</head>

<body>
  <header>
    <h1>ğŸŒ¿ WeedTracker V55 Pilot</h1>
  </header>

  <!-- HOME -->
  <section id="view-home" class="fade-in">
    <div id="homeButtons">
      <div class="home-btn" data-view="view-create">ğŸ§¾ Create Task</div>
      <div class="home-btn" data-view="view-records">ğŸ“‹ Records</div>
      <div class="home-btn" data-view="view-batches">ğŸ§ª Batches</div>
      <div class="home-btn" data-view="view-inventory">ğŸ’§ Chemical Inventory</div>
      <div class="home-btn" data-view="view-procurement">ğŸ›’ Procurement List</div>
      <div class="home-btn" data-view="view-map">ğŸ—ºï¸ Mapping</div>
      <div class="home-btn" data-view="view-settings">âš™ï¸ Settings</div>
    </div>
  </section>

  <!-- CREATE TASK -->
  <section id="view-create" class="hidden">
    <h2>Create Task</h2>
    <form id="taskForm">
      <label>Job Type</label>
      <select id="jobType">
        <option value="">Select Type</option>
        <option value="Inspection">Inspection</option>
        <option value="Spot Spray">Spot Spray</option>
        <option value="Road Spray">Road Spray</option>
      </select>

      <label>Location</label>
      <input id="jobLocation" readonly placeholder="Click Locate Me">
      <button type="button" id="btnLocate" class="btn blue">ğŸ“ Locate Me</button>

      <label>Job Name (Auto)</label>
      <input id="jobName" readonly placeholder="Auto-generated from road + date">

      <label>Council Job Number (optional)</label>
      <input id="councilNumber" placeholder="e.g. 12345">

      <label>Date</label>
      <input type="date" id="jobDate">

      <h3>ğŸŒ¦ Weather</h3>
      <div class="wx-grid">
        <div class="wx-cell"><label>Temp</label><input id="wxTemp" placeholder="Â°C"></div>
        <div class="wx-cell"><label>Wind Speed</label><input id="wxWind" placeholder="km/h"></div>
        <div class="wx-cell"><label>Wind Dir</label><input id="wxDir" placeholder="N, SW, etc"></div>
        <div class="wx-cell"><label>Dir Â°</label><input id="wxDirDeg" placeholder="0â€“360"></div>
        <div class="wx-cell"><label>Humidity</label><input id="wxHum" placeholder="%"></div>
      </div>

      <h3>ğŸŒ± Weeds</h3>
      <select id="weedSelect">
        <option value="">Select Weed</option>
        <option disabled>â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</option>
        <option>Noxious Weeds</option>
        <option>African Lovegrass</option>
        <option>Fleabane</option>
        <option>St Johnâ€™s Wort</option>
        <option>Bathurst Burr</option>
        <option>Fireweed</option>
        <option>Patersonâ€™s Curse</option>
      </select>

      <h3>ğŸ§ª Batch</h3>
      <select id="batchSelect">
        <option value="">Select Batch</option>
      </select>

      <label>Notes</label>
      <textarea id="jobNotes" placeholder="Add any notes..."></textarea>

      <h3>Status</h3>
      <label><input type="radio" name="jobStatus" value="Incomplete" checked> Incomplete</label>
      <label><input type="radio" name="jobStatus" value="Complete"> Complete</label>

      <label>Reminder (Weeks)</label>
      <select id="reminderWeeks">
        <option value="0">None</option>
        ${Array.from({ length: 52 }, (_, i) => `<option value="${i+1}">${i+1}</option>`).join('')}
      </select>

      <div style="margin-top:15px;text-align:center;">
        <button type="button" id="btnStartTracking" class="btn blue">â–¶ï¸ Start Tracking</button>
        <button type="button" id="btnStopTracking" class="btn">â¹ Stop Tracking</button>
        <button type="submit" class="btn blue">ğŸ’¾ Save Task</button>
        <button type="button" id="btnDraft" class="btn">ğŸ“ Save as Draft</button>
      </div>
    </form>
    <div style="margin-top:20px;">
      <button class="btn" data-home>ğŸ  Home</button>
    </div>
  </section>

  <!-- RECORDS -->
  <section id="view-records" class="hidden">
    <h2>Records</h2>
    <div id="recordFilters" style="margin-bottom:10px;">
      <label>Search by:</label>
      <input id="searchText" placeholder="Weed, Job name, etc.">
      <label>Date Range</label>
      <input type="date" id="searchStart"> to <input type="date" id="searchEnd">
      <button id="btnSearch" class="btn blue">Search</button>
    </div>
    <div id="recordList"></div>
    <div style="margin-top:20px;">
      <button class="btn" data-home>ğŸ  Home</button>
    </div>
  </section>

  <!-- BATCHES -->
  <section id="view-batches" class="hidden">
    <h2>Batches</h2>
    <div id="batchList"></div>
    <button class="btn blue" id="btnAddBatch">â• Create Batch</button>
    <div style="margin-top:20px;">
      <button class="btn" data-home>ğŸ  Home</button>
    </div>
  </section>

  <!-- INVENTORY -->
  <section id="view-inventory" class="hidden">
    <h2>Chemical Inventory</h2>
    <div id="inventoryList"></div>
    <button class="btn blue" id="btnAddChemical">â• Add Chemical</button>
    <div style="margin-top:20px;">
      <button class="btn" data-home>ğŸ  Home</button>
    </div>
  </section>

  <!-- PROCUREMENT -->
  <section id="view-procurement" class="hidden">
    <h2>Procurement List</h2>
    <div id="procList"></div>
    <div style="margin-top:20px;">
      <button class="btn" data-home>ğŸ  Home</button>
    </div>
  </section>

  <!-- MAP -->
  <section id="view-map" class="hidden">
    <h2>Mapping</h2>
    <button class="btn blue" id="btnLocateMap">ğŸ“ Locate Me</button>
    <div id="map"></div>
    <div style="margin-top:20px;">
      <button class="btn" data-home>ğŸ  Home</button>
    </div>
  </section>

  <!-- SETTINGS -->
  <section id="view-settings" class="hidden">
    <h2>Settings</h2>
    <button class="btn blue" id="btnExport">ğŸ“¤ Export Data</button>
    <button class="btn" id="btnClearAll">ğŸ—‘ï¸ Clear All Data</button>
    <div style="margin-top:20px;">
      <button class="btn" data-home>ğŸ  Home</button>
    </div>
  </section>

  <!-- TOAST -->
  <div id="toast" class="toast"></div>

  <script src="storage.js"></script>
  <script src="apps.js"></script>
</body>
</html>
