<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>WeedTracker V60 Pilot</title>
<link rel="stylesheet" href="styles.css">
</head>

<body class="dark">
<!-- Splash -->
<div id="splash" class="splash"><h1>🌿 WeedTracker V60 Pilot</h1></div>

<!-- Spinner -->
<div id="spinner" class="spinner"></div>

<!-- HOME -------------------------------------------------------------->
<section id="home" class="screen active">
  <h2>WeedTracker V60 Pilot</h2>
  <div class="grid home-buttons">

    <button class="tile green" data-target="createTask">
      <span class="icon">🧾</span><span>Create Task</span>
    </button>

    <button class="tile blue" data-target="records">
      <span class="icon">📚</span><span>Records</span>
    </button>

    <button class="tile orange" data-target="batches">
      <span class="icon">🧪</span><span>Batches</span>
    </button>

    <button class="tile teal" data-target="inventory">
      <span class="icon">🧴</span><span>Chemical Inventory</span>
    </button>

    <button class="tile purple" data-target="procurement">
      <span class="icon">🛒</span><span>Procurement</span>
    </button>

    <button class="tile yellow" data-target="mapping">
      <span class="icon">🗺️</span><span>Mapping</span>
    </button>

    <button class="tile grey" data-target="settings">
      <span class="icon">⚙️</span><span>Settings / Clear Data</span>
    </button>

  </div>
</section>

<!-- CREATE TASK ------------------------------------------------------->
<section id="createTask" class="screen">
  <button class="home-btn">🏠 Home</button>
  <h3>Create Task</h3>
  <form id="taskForm" class="grid gap">
    <label>Job Type
      <select id="taskType">
        <option>Inspection</option>
        <option>Spot Spray</option>
        <option>Road Shoulder Spray</option>
      </select>
    </label>

    <label>Date <input type="date" id="jobDate"></label>

    <label>Job Name <input id="jobName" placeholder="Auto-generate if blank"></label>
    <button type="button" id="autoNameBtn">Auto-Name</button>

    <div class="row gap">
      <button type="button" id="locateBtn">📍 Locate</button>
      <span id="locRoad" class="dim">Not set</span>
    </div>

    <div id="roadTrackBlock">
      <div class="row gap">
        <button type="button" id="startTrack">▶️ Start Track</button>
        <button type="button" id="stopTrack">⏹ Stop Track</button>
        <span id="trackStatus" class="dim"></span>
      </div>
    </div>

    <label>Weed <select id="weedSelect"></select></label>
    <label>Batch <select id="batchSelect"></select></label>

    <label>Start Time <input type="time" id="startTime"></label>
    <label>End Time <input type="time" id="endTime"></label>

    <div class="row gap">
      <button type="button" id="autoWeatherBtn">🌦️ Auto Weather</button>
      <span id="wxUpdated" class="dim"></span>
    </div>

    <div class="grid 2cols">
      <label>Temp (°C)<input id="temp"></label>
      <label>Wind (km/h)<input id="wind"></label>
      <label>Direction <input id="windDir"></label>
      <label>Humidity (%)<input id="humidity"></label>
    </div>

    <label>Notes <textarea id="notes" rows="3"></textarea></label>
    <label>Reminder (weeks)
      <select id="reminderWeeks"></select>
    </label>

    <label>Photo <input type="file" id="photoInput" accept="image/*"></label>
    <img id="photoPreview" style="display:none;max-width:100%;border-radius:8px;margin-top:.4rem"/>

    <div class="row gap">
      <button type="button" id="saveTask">💾 Save Task</button>
      <button type="button" id="saveDraft" class="warn">📝 Save Draft</button>
    </div>
  </form>
</section>

<!-- RECORDS ----------------------------------------------------------->
<section id="records" class="screen">
  <button class="home-btn">🏠 Home</button>
  <h3>Records</h3>
  <div class="filters"></div>
  <div id="recordsList" class="list"></div>
</section>

<!-- BATCHES ----------------------------------------------------------->
<section id="batches" class="screen">
  <button class="home-btn">🏠 Home</button>
  <h3>Batches</h3>
  <div class="filters"></div>
  <div class="row end"><button id="newBatch">➕ New Batch</button></div>
  <div id="batchList" class="list"></div>
</section>

<!-- INVENTORY --------------------------------------------------------->
<section id="inventory" class="screen">
  <button class="home-btn">🏠 Home</button>
  <h3>Chemical Inventory</h3>
  <div class="filters"></div>
  <div class="row end"><button id="addChem">➕ Add Chemical</button></div>
  <div id="chemList" class="list"></div>
</section>

<!-- PROCUREMENT ------------------------------------------------------->
<section id="procurement" class="screen">
  <button class="home-btn">🏠 Home</button>
  <h3>Procurement List</h3>
  <ul id="procList" class="list"></ul>
</section>

<!-- MAPPING ----------------------------------------------------------->
<section id="mapping" class="screen">
  <button class="home-btn">🏠 Home</button>
  <h3>Mapping</h3>
  <div class="filters"></div>
  <div id="map" style="height:70vh;border-radius:10px;margin-top:.5rem"></div>
</section>

<!-- SETTINGS ---------------------------------------------------------->
<section id="settings" class="screen">
  <button class="home-btn">🏠 Home</button>
  <h3>Settings / Backup & Clear</h3>
  <div class="grid gap">
    <label>Email <input id="accountEmail" placeholder="Optional"></label>
    <button id="saveAccount">Save Account</button>
    <button id="exportBtn">Export Data 📤</button>
    <button id="restoreBtn">Restore Last Backup 📥</button>
    <button id="clearBtn" class="warn">🗑 Clear All Data</button>
  </div>
</section>

<!-- CHEM EDITOR SHEET ------------------------------------------------->
<div id="chemEditSheet" class="sheet">
  <div class="card p">
    <h3>Edit Chemical</h3>
    <label>Name <input id="ce_name"></label>
    <label>Active <input id="ce_active"></label>
    <label>Size <input type="number" id="ce_size"></label>
    <label>Unit <input id="ce_unit"></label>
    <label>Count <input type="number" id="ce_count"></label>
    <label>Threshold <input type="number" id="ce_threshold"></label>
    <div class="row gap end">
      <button id="ce_save">Save</button>
      <button id="ce_cancel" class="warn">Cancel</button>
    </div>
  </div>
</div>

<script src="apps.js"></script>
</body>
</html>
