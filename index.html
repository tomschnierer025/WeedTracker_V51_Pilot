<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Weed Tracker V50 Pilot</title>
  <link rel="stylesheet" href="styles.css" />

  <!-- Leaflet for mapping -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>
  <script defer src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

  <!-- App scripts -->
  <script defer src="storage.js"></script>
  <script defer src="extras.js"></script>
  <script defer src="apps.js"></script>
</head>
<body>

  <!-- Splash -->
  <div id="splash-screen" aria-hidden="true">
    <h1>üåø Weed Tracker V50 Pilot</h1>
  </div>

  <!-- HOME -->
  <div id="home" class="page active">
    <h2 class="app-title">Weed Tracker V50 Pilot</h2>
    <div class="menu">
      <button id="btnCreateTask" class="tile tile-blue">üßæ Create Task</button>
      <button id="btnRecords" class="tile tile-green">üìö Records</button>
      <button id="btnInventory" class="tile tile-teal">üß™ Chemical Inventory</button>
      <button id="btnBatches" class="tile tile-purple">‚öóÔ∏è Batches</button>
      <button id="btnProcurement" class="tile tile-orange">üõí Procurement List</button>
      <button id="btnMapping" class="tile tile-yellow">üó∫Ô∏è Mapping</button>
      <button id="btnReminders" class="tile tile-cyan">‚è∞ Reminders</button>
      <button id="btnSettings" class="tile tile-grey">‚öôÔ∏è Settings</button>
    </div>
  </div>

  <!-- CREATE TASK -->
  <div id="createTask" class="page">
    <div class="section">
      <div class="section-title">1) Task Type</div>
      <select id="jobType">
        <option>Inspection</option>
        <option>SpotSpray</option>
        <option>Roadside</option>
      </select>
    </div>

    <div class="section">
      <div class="section-title">2) Location</div>
      <input id="locationInput" placeholder="Road / Reserve / Site name" />
      <div class="row-compact">
        <button class="action" id="btnLocate">Locate Me</button>
        <span id="gpsPreview" class="muted">GPS: ‚Äî</span>
      </div>
    </div>

    <div class="section">
      <div class="section-title">3) Tracking</div>
      <div class="row-compact">
        <label>Start:</label><input id="startTime" type="datetime-local"/>
        <label>Stop:</label><input id="stopTime" type="datetime-local"/>
      </div>
    </div>

    <div class="section">
      <div class="section-title">4) Job Name & Weather</div>
      <div class="row-compact">
        <button class="action" id="btnAutoName">Auto-Generate Name</button>
        <span id="jobNamePreview" class="muted">Name: ‚Äî</span>
      </div>
      <div class="row-compact">
        <button class="action" id="btnWeather">Pull Weather</button>
        <span id="weatherPreview" class="muted">‚Äî</span>
      </div>
    </div>

    <div class="section">
      <div class="section-title">5) Weed & Batch</div>
      <input id="weedSearch" placeholder="Search weeds‚Ä¶"/>
      <select id="weedSelect"></select>

      <div class="row-compact">
        <label>Batch:</label>
        <select id="batchSelect"></select>
        <button class="action" id="btnNewBatch">New Batch</button>
      </div>
    </div>

    <div class="section">
      <div class="section-title">6) Photos & Notes</div>
      <input id="photoFile" type="file" accept="image/*" />
      <textarea id="jobNotes" rows="4" placeholder="Notes‚Ä¶"></textarea>
    </div>

    <div class="section">
      <div class="section-title">7) Reminder</div>
      <div class="row-compact">
        <label>Follow-up (weeks):</label>
        <select id="reminderWeeks">
          <option value="0">No reminder</option>
          <!-- 1..52 -->
          <script>
            for (let i=1;i<=52;i++){
              document.write(`<option value="${i}">${i}</option>`);
            }
          </script>
        </select>
      </div>
    </div>

    <div class="section">
      <button class="action success" id="btnSaveJob">Save</button>
      <button class="action" id="btnSaveDraft">Save as Draft</button>
      <button class="action ghost" id="btnBackHome1">Home</button>
    </div>
  </div>

  <!-- RECORDS -->
  <div id="records" class="page">
    <div class="filters">
      <input id="recordsSearch" placeholder="Search by name / road / weed‚Ä¶" />
      <select id="recordsType">
        <option>All</option><option>Inspection</option><option>SpotSpray</option><option>Roadside</option>
      </select>
      <select id="recordsStatus">
        <option>All</option><option>Complete</option><option>Incomplete</option><option>Draft</option>
      </select>
      <input id="recordsDate" type="date" />
      <button class="action" id="btnRecordsFilter">Search</button>
    </div>
    <div id="recordsList" class="list"></div>
    <button class="action ghost" id="btnBackHome2">Home</button>
  </div>

  <!-- INVENTORY -->
  <div id="inventory" class="page">
    <div class="filters">
      <input id="chemSearch" placeholder="Search chemicals‚Ä¶"/>
      <button class="action" id="btnAddChem">Add Chemical</button>
    </div>
    <div id="chemList" class="list"></div>
    <button class="action ghost" id="btnBackHome3">Home</button>
  </div>

  <!-- BATCHES -->
  <div id="batches" class="page">
    <div class="filters">
      <input id="batchSearch" placeholder="Search batch id‚Ä¶"/>
      <input id="batchDateFilter" type="date" />
      <button class="action" id="btnBatchFilter">Search</button>
      <button class="action" id="btnCreateBatch">Create Batch</button>
    </div>
    <div id="batchList" class="list"></div>
    <button class="action ghost" id="btnBackHome4">Home</button>
  </div>

  <!-- PROCUREMENT -->
  <div id="procurement" class="page">
    <div id="procureList" class="list"></div>
    <button class="action ghost" id="btnBackHome5">Home</button>
  </div>

  <!-- MAPPING -->
  <div id="map" class="page">
    <div class="filters">
      <select id="mapType">
        <option>All</option><option>Inspection</option><option>SpotSpray</option><option>Roadside</option>
      </select>
      <select id="mapStatus">
        <option>All</option><option>Open</option><option>Closed</option>
      </select>
      <input id="mapDate" type="date"/>
      <button class="action" id="btnMapFilter">Filter</button>
      <button class="action" id="btnLocateMe">Locate Me</button>
    </div>
    <div id="mapView"></div>
    <button class="action ghost" id="btnBackHome6">Home</button>
  </div>

  <!-- REMINDERS -->
  <div id="reminders" class="page">
    <div id="reminderList" class="list"></div>
    <button class="action ghost" id="btnBackHome7">Home</button>
  </div>

  <!-- SETTINGS -->
  <div id="settings" class="page">
    <div class="section">
      <div class="section-title">Data</div>
      <button class="action danger" id="btnClearData">Clear ALL Local Data</button>
      <div class="muted small">Clears jobs, batches, records, pins & reminders. Leaves the chemical & weed libraries intact.</div>
    </div>
    <button class="action ghost" id="btnBackHome8">Home</button>
  </div>

  <!-- Reusable Modal -->
  <div id="modal" class="popup" role="dialog" aria-modal="true"></div>

</body>
</html>
