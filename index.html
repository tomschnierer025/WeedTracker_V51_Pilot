<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>WeedTracker V60 Pilot</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>

  <!-- Splash -->
  <div id="splash" class="splash">
    <div class="logo">WeedTracker V60 Pilot</div>
    <div class="sub">Loading ...</div>
  </div>

  <!-- Header -->
  <header class="appbar">
    <div class="brand">WeedTracker</div>
    <button id="homeBtn" class="home-btn">ğŸ </button>
  </header>

  <!-- Home -->
  <div id="home" class="screen active">
    <div id="homeTopBar">
      <h2 style="margin:0;padding:10px 0;">WeedTracker V60 Pilot</h2>
    </div>

    <div class="home-list">
      <button class="home-btn btn-task" data-target="createTask">ğŸ§¾ Create Task</button>
      <button class="home-btn btn-records" data-target="records">ğŸ“š Records</button>
      <button class="home-btn btn-chems" data-target="chemInventory">ğŸ§ª Chemical Inventory</button>
      <button class="home-btn btn-batches" data-target="batches">âš—ï¸ Batches</button>
      <button class="home-btn btn-proc" data-target="procurement">ğŸ›’ Procurement List</button>
      <button class="home-btn btn-map" data-target="mapping">ğŸ—ºï¸ Mapping</button>
      <button class="home-btn btn-settings" data-target="settings">âš™ï¸ Settings</button>
    </div>
  </div>

  <!-- Create Task -->
  <div id="createTask" class="screen">
    <h2>Create Task</h2>

    <label>Step 1 â€“ Task Type</label>
    <select id="taskType">
      <option>Inspection</option>
      <option>Spot Spray</option>
      <option>Road Spray</option>
    </select>

    <div id="roadTrackBlock" style="display:none;margin-top:10px;">
      <button id="locateBtn" class="pill">ğŸ“ Get Location</button>
      <div id="locRoad" class="small"></div>
      <div class="mt"><button id="startTrack" class="pill">â–¶ Start Tracking</button>
      <button id="stopTrack" class="pill">â¹ Stop Tracking</button></div>
      <div id="trackStatus" class="small mt"></div>
    </div>

    <label>Date</label><input type="date" id="jobDate">

    <label>Job Name</label><input id="jobName" placeholder="Auto-generate with road + date">
    <button id="autoNameBtn" class="pill mt">Auto Generate</button>

    <label>Council Job #</label><input id="councilNum">
    <label>Linked Inspection ID (optional)</label><input id="linkInspectionId">

    <label>Weed</label><select id="weedSelect"></select>
    <label>Batch</label><select id="batchSelect"></select>

    <label>Start Time</label><input type="time" id="startTime">
    <label>End Time</label><input type="time" id="endTime">

    <div class="row spread mt"><b>Weather</b><button id="autoWeatherBtn" class="pill">ğŸŒ¦ï¸ Auto</button></div>
    <div class="grid two">
      <input id="temp" placeholder="Temp Â°C">
      <input id="humidity" placeholder="Humidity %">
      <input id="wind" placeholder="Wind km/h">
      <input id="windDir" placeholder="Wind Direction">
    </div>
    <div id="wxUpdated" class="small mt"></div>

    <label>Reminder (weeks)</label><input type="number" id="reminderWeeks" min="0" value="0">

    <div class="form-section">
      <label>Status</label><br>
      <label><input type="radio" name="status" value="Incomplete" checked> Incomplete</label>
      <label><input type="radio" name="status" value="Complete"> Complete</label>
    </div>

    <label>Notes</label><textarea id="notes" rows="3"></textarea>

    <label>Photo</label>
    <input type="file" id="photoInput" accept="image/*" capture="environment">
    <img id="photoPreview" style="display:none;max-width:100%;margin-top:6px;border-radius:8px"/>

    <div class="row gap mt">
      <button id="saveTask" class="pill">ğŸ’¾ Save</button>
      <button id="saveDraft" class="pill">ğŸ—‚ï¸ Save as Draft</button>
    </div>
  </div>

  <!-- Records -->
  <div id="records" class="screen">
    <h2>Records</h2>
    <div class="search-block">
      <input id="recSearch" placeholder="Search by name or road">
      <input type="date" id="recFrom">
      <input type="date" id="recTo">
    </div>
    <div class="row gap">
      <label><input type="checkbox" id="fInspection"> Inspection</label>
      <label><input type="checkbox" id="fSpot"> Spot Spray</label>
      <label><input type="checkbox" id="fRoad"> Road Spray</label>
      <label><input type="checkbox" id="fComplete"> Complete</label>
      <label><input type="checkbox" id="fIncomplete"> Incomplete</label>
      <label><input type="checkbox" id="fDraft"> Draft</label>
    </div>
    <div class="row gap mt">
      <button id="recSearchBtn" class="pill">Search</button>
      <button id="recResetBtn" class="pill">Reset</button>
    </div>
    <div id="recordsList" class="mt"></div>
  </div>

  <!-- Chemical Inventory -->
  <div id="chemInventory" class="screen">
    <h2>Chemical Inventory</h2>
    <div id="chemList" class="mt"></div>
  </div>

  <!-- Batches -->
  <div id="batches" class="screen">
    <h2>Batches</h2>
    <div class="row gap mt">
      <button id="newBatch" class="pill">â• Create Batch</button>
    </div>
    <div class="search-block">
      <input id="batQuery" placeholder="Search by name or road">
      <input type="date" id="batFrom">
      <input type="date" id="batTo">
    </div>
    <div class="row gap mt">
      <button id="batSearchBtn" class="pill">Search</button>
      <button id="batResetBtn" class="pill">Reset</button>
    </div>
    <div id="batchList" class="mt"></div>
  </div>

  <!-- Procurement List -->
  <div id="procurement" class="screen">
    <h2>Procurement List</h2>
    <div id="procList"></div>
  </div>

  <!-- Mapping -->
  <div id="mapping" class="screen">
    <h2>Mapping</h2>
    <div id="mapWrap">
      <div id="map"></div>
    </div>

    <div class="search-block mt">
      <input id="mapQuery" placeholder="Search by name or road">
      <input id="mapWeed" placeholder="Weed name">
      <select id="mapType">
        <option value="All">All Types</option>
        <option>Inspection</option>
        <option>Spot Spray</option>
        <option>Road Spray</option>
      </select>
      <input type="date" id="mapFrom">
      <input type="date" id="mapTo">
    </div>
    <div class="row gap mt">
      <button id="mapSearchBtn" class="pill">Search</button>
      <button id="mapResetBtn" class="pill">Reset</button>
    </div>
  </div>

  <!-- Settings -->
  <div id="settings" class="screen">
    <h2>Settings</h2>
    <div class="form-section">
      <button id="clearDataBtn" class="pill warn">ğŸ—‘ï¸ Clear All Data</button>
    </div>
  </div>

  <!-- Spinner Overlay -->
  <div id="spinnerOverlay">Workingâ€¦</div>

  <!-- Scripts -->
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <script src="apps.js"></script>

</body>
</html>
