/* ===== WeedTrackerV60Pilot â€” Styles (lighter charcoal) ===== */
:root{
  --bg:#2b2b2b;           /* slightly lighter charcoal */
  --card:#33383a;         /* card base */
  --card-soft:#3a4043;    /* softer card */
  --ink:#e9f1ea;          /* high contrast text */
  --muted:#bfc7c0;
  --accent:#1e8e3e;       /* green */
  --accent-2:#2aa14a;
  --warn:#b23b3b;
  --border:#d9d9d9;
  --white:#ffffff;
  --shadow:0 6px 18px rgba(0,0,0,.35);
  --round:10px;
}

*{box-sizing:border-box}
html,body{height:100%}
body.theme-charcoal{
  margin:0;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
  background:var(--bg);
  color:var(--ink);
}

/* App bar */
.appbar{
  position:sticky; top:0; z-index:50;
  background:#1f1f1f; border-bottom:1px solid #414141;
  padding:.6rem .9rem;
  display:flex; align-items:center; justify-content:space-between;
}
.appbar h1{font-size:1.05rem;margin:0}
.tabs{display:flex;gap:.4rem;flex-wrap:wrap}
.tab{background:#262626;border:1px solid #3a3a3a;color:var(--ink);padding:.4rem .6rem;border-radius:8px}
.tab:active{transform:scale(.98)}

/* Layout */
main{padding:1rem;max-width:880px;margin:0 auto}
.screen{display:none}
.screen.active{display:block}

.card{background:var(--card);border-radius:var(--round);box-shadow:var(--shadow)}
.card.p{padding:1rem}
.card.p.soft{background:var(--card-soft)}

.row{display:flex;align-items:center}
.row.gap{gap:.6rem}
.row.wrap{flex-wrap:wrap}
.row.end{justify-content:flex-end}
.row.center{justify-content:center}
.flex{flex:1 1 0%}

.field{display:flex;flex-direction:column;margin:.6rem 0}
.field.mini{min-width:120px}
.field label{font-size:.85rem;color:var(--muted);margin-bottom:.25rem}
.hint{font-size:.85rem;color:var(--muted)}

input,select,textarea{
  width:100%;
  background:var(--white);
  border:1px solid var(--border);
  color:#111;
  border-radius:8px;
  padding:.6rem .65rem;
  outline:none;
}
textarea{resize:vertical}

.pill{
  background:#2c7d38;border:1px solid #1a5f27;
  color:#fff;border-radius:999px;padding:.55rem .9rem; font-weight:700;
  box-shadow:0 2px 8px rgba(0,0,0,.25);
}
.pill:hover{background:var(--accent-2)}
.pill.warn{background:var(--warn);border-color:#8f2d2d}
.pill.ghost{background:transparent;border-color:#517157;color:var(--ink)}
.pill.strong{background:#0e7b2f;border-color:#0b5b24}

.chip{display:flex;align-items:center;gap:.35rem;background:#2b5135;border:1px solid #366243;border-radius:20px;padding:.25rem .55rem}
.chip input{width:auto}

/* Home grid 1-per-row */
.grid-1{display:grid;grid-template-columns:1fr;gap:.7rem}
.home-card{
  width:100%;text-align:center;padding:1rem 1.2rem;font-size:1.05rem;font-weight:800;
  background:#2f623d;border:1px solid #234b2f;color:#fff;border-radius:12px;
}

/* Lists */
.list{display:grid;gap:.6rem;margin-top:.6rem}
.item{background:#2e3436;border:1px solid #3e4648;border-radius:10px;padding:.7rem}

/* Popup / Sheet */
#popup, .modal{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;z-index:1000;background:rgba(0,0,0,.45)}
#popup .popup-body{max-height:60vh;overflow:auto}
#popup .card, .modal .card{width:min(660px,92vw)}
#popup .close{margin-top:.7rem}
.modal .card{max-height:90vh;overflow:auto}

/* Spinner overlay */
.spinner-overlay{
  position:fixed;inset:0;display:flex;align-items:center;justify-content:center;
  background:rgba(0,0,0,.55);z-index:1200;font-size:1.15rem;font-weight:900;letter-spacing:.3px
}

/* Top-right Home */
.top-right-home{
  position:fixed;top:10px;right:12px;z-index:1201;
  background:#0f5f28;border:1px solid #0b481e;color:#fff;padding:.35rem .7rem;border-radius:999px;box-shadow:0 2px 8px rgba(0,0,0,.35);
  text-decoration:none;cursor:pointer
}

/* Splash */
.splash{position:fixed;inset:0;background:#1f1f1f;display:flex;flex-direction:column;align-items:center;justify-content:center;color:#fff;z-index:1500;transition:opacity .35s}
.splash.hide{opacity:0;pointer-events:none}
.splash .logo{font-size:1.3rem;font-weight:900;margin-bottom:.25rem}
.splash .sub{opacity:.9}

/* Filters box */
.filter-box{margin-top:.5rem;background:#2f3436;border:1px solid #454e51;border-radius:10px;padding:.6rem}

/* Mapping */
.leaflet-control-container .leaflet-bottom .leaflet-control{margin-bottom:10px}
